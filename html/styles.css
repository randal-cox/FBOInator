:root{
  --bg:#0b0d10;--bg-elev:#12161a;--text:#e7ecf2;--muted:#a5b0bc;--border:#1f2630;
  --green:#23c55e;--green-strong:#16a34a;--green-ghost:rgba(35,197,94,.15);
  --accent:#70b7ff;--radius:14px;--radius-sm:10px;--shadow:0 8px 24px rgba(0,0,0,.25);
  --maxw:960px;--gap:14px;--pad:18px;--pad-lg:24px;--fs:16px;--lh:1.5;
  --font:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,"Helvetica Neue",Arial;
  --mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
}
@media (prefers-color-scheme:light){
  :root{--bg:#f6f7f9;--bg-elev:#fff;--text:#0f1720;--muted:#5b6775;--border:#e5e9ef;--shadow:0 8px 20px rgba(10,32,66,.08);--green-ghost:rgba(5,125,60,.08)}
}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;font-family:var(--font);font-size:var(--fs);line-height:var(--lh);color:var(--text);
  background:radial-gradient(1000px 600px at 60% -10%, rgba(52,101,255,.10), transparent 60%),
             radial-gradient(900px 700px at -10% 20%, rgba(35,197,94,.10), transparent 60%),
             var(--bg)}
/* Header */
.site-header{border-bottom:1px solid var(--border);backdrop-filter:blur(6px)}
.header-inner{max-width:var(--maxw);padding:var(--pad);margin:0 auto;display:flex;align-items:center;gap:12px}
.logo{width:36px;height:36px;display:block;object-fit:contain;background:var(--green-ghost)}
.title-block{display:flex;flex-direction:column}
.site-title{font-size:1.75rem;font-weight:700;margin:0}
.site-subtitle{font-size:.85rem;color:var(--muted);margin:3px 0 0 0}
/* Layout */
.container{max-width:var(--maxw);margin:40px auto;padding:0 var(--pad)}
.card{background:var(--bg-elev);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:var(--pad-lg)}
.form{display:grid;gap:var(--gap)}
.grid-3{display:grid;gap:12px;grid-template-columns:repeat(3,minmax(180px,1fr))}
@media (max-width:820px){.grid-3{grid-template-columns:1fr}}
.label{font-weight:600}
.control{display:flex;align-items:center;gap:8px;margin-top:6px}
.input{width:100%;padding:10px 12px;border-radius:var(--radius-sm);border:1px solid var(--border);background:transparent;color:var(--text);outline:none}
.input:focus{border-color:var(--accent);box-shadow:0 0 0 4px rgba(112,183,255,.25)}
.input.short{max-width:200px}
.suffix{font-size:.85rem;color:var(--muted)}
.mode{border:1px dashed var(--border);border-radius:12px;padding:12px}
.mode legend{padding:0 .4rem}
.radio{display:flex;align-items:flex-start;gap:8px;margin:6px 0}
.radio input{margin-top:3px}
.actions{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.spacer{flex:1}
/* Buttons */
.btn{appearance:none;border:1px solid transparent;border-radius:999px;padding:10px 16px;font-weight:700;cursor:pointer;letter-spacing:.2px;transition:transform .02s ease, background .15s ease, border-color .15s ease, opacity .15s ease}
.btn:active{transform:translateY(1px)}
.btn-primary{background:linear-gradient(180deg,var(--green),var(--green-strong));color:#fff;box-shadow:inset 0 1px 0 rgba(255,255,255,.35),0 4px 14px rgba(22,163,74,.25)}
.btn-primary:hover{filter:brightness(1.03)}
.btn-secondary{background:transparent;color:var(--text);border-color:var(--border)}
.btn-secondary:hover{background:var(--green-ghost);border-color:var(--green-strong)}
.btn-ghost{background:transparent;color:var(--muted);border-color:var(--border)}
.btn-ghost:hover{background:rgba(255,255,255,.04)}
/* Chart box (plain white) */
.qr-wrap{display:grid;justify-items:center;margin-top:18px}
.qr-box{
    width:100%;
    min-height:420px;
    background:#fff;
    border:1px dashed var(--border);
    border-radius:var(--radius-sm);
    overflow:hidden;
    padding:8px;
    background:#fff;
    overflow: visible;        /* was hidden; this clipped the xlabel */
    padding-bottom: 36px;     /* room for xlabel */
}
}
/* Footer */
.site-footer{margin-top:36px;padding:18px var(--pad);border-top:1px solid var(--border);color:var(--muted);text-align:center}
.footer-inner{max-width:var(--maxw);margin:0 auto;padding:0 var(--pad)}
.hint{margin:8px 0 0 0;text-align:center;color:var(--muted);font-size:.9rem}
code{font-family:var(--mono)}
/* Make dygraphs labels/legend black on the white chart */
#chart .dygraph-axis-label,
#chart .dygraph-legend,
#chart .dygraph-title,
#chart .dygraph-xlabel,
#chart .dygraph-ylabel { color:#000 !important; }


#graphdiv {
  width: 900px;
  height: 600px;
}

.dygraph-axis-label-x {
  margin-top: 0px; /* push x-axis label further down */
}
.series-toggles{
  display:flex;
  gap:18px;
  flex-wrap:wrap;
  align-items:center;
  justify-content:center;
  margin:10px 0 2px;
  color:var(--text);
}
.series-toggles label{
  display:flex; align-items:center; gap:8px;
  font-weight:600;
}
.series-toggles input{ transform:translateY(1px); }